#### はじめに

名前：杉本 雅広（すぎもと まさひろ）

運営中： wgld.org, WebGL総本山

![doxas](doxas.png)

---

#### はじめに

まずは、jsstg へ作品を出展してくださった方、そして連動企画となる本勉強会にご参加くださった方、ありがとうございます。
jsstg 2015 は第二回にあたりますが、今後また第三回も開催できればいいなと思っています。
今後とも jsstg をよろしくお願いします。

---

#### 本日のテーマ

**マルチプラットフォーム WebGL**

jsstg 2015 に出展した「torna-do」の実装を紐解きつつ、モバイル端末でも動作可能な WebGL コンテンツの作成について考えていきます。
モバイル端末ならではのセンサーを使った実装や、いかに描画の負荷を抑えつつリッチな表現を行うかなど、お話できればと思っています。

---

#### torna-do

jsstg 2015 に出展した、果たしてこれはシューティングゲームと呼べるのかという一作。

![torna-do](torna_do.jpg)

---

#### 最初に思い描いていたコンセプト

* モバイル端末でも動作するようにしたい
* モバイル端末ならではのセンサー利用したい
* 負荷を少しでも抑えるため頂点数は少なくしたい
* でも見た目はちょっとくらいかっこよくしたい

---

#### モバイルならではのセンサー

PC には無い、モバイル端末ならではのセンサーを使った実装をしたかった。
真っ先に思いついたのが、「タッチ」と「ジャイロ」のふたつ。
タッチを使うなら*マルチタッチ*にしたかったが、なんとなくジャイロのほうが面白そうだったのでジャイロセンサーを用いた移動形式に。

---

#### ジャイロセンサーとは

ジャイロセンサーは、モバイル端末の「傾き」を計測するセンサーです。
javascript から参照できるセンサーとしては、最も初期から対応が進められてきたものなので、Android や iOS で比較的データを取りやすいセンサーだと思います。
ちなみに、どのセンサーの情報が取れるのかは OS ではなくブラウザの実装によります。

---

#### ジャイロセンサーの値をどう使うか

ジャイロセンサーの値は、端末の傾きを X Y Z の三軸で取った結果として取得できます。
正式な表記が X Y Z ではなく alpha、beta、gamma なのでちょっと紛らわしいです。
--X = beta, Y = gamma, Z = alpha--

---

#### ジャイロセンサーの値をどう使うか













---

### agenda

実装概念

* スクリーンサイズが割と難点（縦横比）
* イベントの発火回数を考慮した実装
* マルチプラットフォームという懸念とPCとの共存
* UIが狭いのでそれに対する工夫


javascript寄りの話

* 冪乗計算による減衰処理
* イベントの発火回数
* 敵の移動ロジック

WebGLな話

* プロシージャルにできるものはそうする
* オフスクリーンレンダリングを活用した方法
* ガウシアンブラー
* 加算合成


問題点

* 音声ファイル重いね！
* 



